{% extends 'base.html.twig' %}

{% block title %}Craftsman
{% endblock %}

{% block body %}

	<div class="container-fluid my-3">
		<div class="row">
			<div class="col">
				<div class="card">
					<div class="card-header d-flex justify-content-between">
						<h5>Craftsman</h5>
						<div>
							<a href="{{ path('app_craftsman_new') }}" class="btn btn-primary">Add</a>
						</div>
					</div>
					<div class="card-body">
						<table class="table table-bordered">
							<thead>
								<tr>
									<th>Id</th>
									<th>Email</th>
									<th>Name</th>
									<th>Phone</th>
									<th>CreatedAt</th>
									<th>UpdatedAt</th>
									<th>actions</th>
								</tr>
							</thead>
							<tbody>
								{% for craftsman in craftsmen %}
									<tr>
										<td>{{ craftsman.id }}</td>
										<td>{{ craftsman.user.email }}</td>
										<td>{{ craftsman.user.name }}</td>
										<td>{{ craftsman.user.phone }}</td>
										<td>{{ craftsman.user.createdAt ? craftsman.user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
										<td>{{ craftsman.user.updatedAt ? craftsman.user.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
										<td>
											<div class="d-flex">
												<div>
													<a href="{{ path('app_craftsman_edit', {'id': craftsman.id}) }}">
														<button class="btn btn-outline-primary btn-sm">Edit</button>
													</a>
												</div>
												<div>
													{{ include('craftsman/_delete_form.html.twig') }}
												</div>
											</div>
										</td>
									</tr>
								{% else %}
									<tr>
										<td colspan="7">No records found</td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
